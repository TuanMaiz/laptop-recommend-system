@prefix : <http://www.abacus.ai/ontologies/laptop#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# #################################################################
#    Ontology Header
# #################################################################

: rdf:type owl:Ontology ;
  rdfs:comment "An ontology for describing laptops and their components for a recommendation system."@en .

# #################################################################
#    Classes
# #################################################################

### Core Classes ###

:Laptop rdf:type owl:Class ;
  rdfs:comment "The central class representing a laptop product."@en .

:Brand rdf:type owl:Class ;
  rdfs:comment "Represents a manufacturer of a laptop or component (e.g., Dell, Intel)."@en .

:UseCase rdf:type owl:Class ;
  rdfs:comment "Represents the intended purpose or user profile (e.g., Gaming, Office Work)."@en .

:Component rdf:type owl:Class ;
  rdfs:comment "A general category for all internal parts of a laptop."@en .

### Component Subclasses ###

:CPU rdf:type owl:Class ;
  rdfs:subClassOf :Component .

:GPU rdf:type owl:Class ;
  rdfs:subClassOf :Component .

:RAM rdf:type owl:Class ;
  rdfs:subClassOf :Component .

:Storage rdf:type owl:Class ;
  rdfs:subClassOf :Component .

:Screen rdf:type owl:Class ;
  rdfs:subClassOf :Component .

# #################################################################
#    Object Properties (Relationships)
# #################################################################

:hasComponent rdf:type owl:ObjectProperty ;
  rdfs:domain :Laptop ;
  rdfs:range :Component ;
  rdfs:comment "Connects a laptop to its component parts."@en .

:hasBrand rdf:type owl:ObjectProperty ;
  rdfs:domain :Laptop ;
  rdfs:range :Brand ;
  rdfs:comment "Connects a laptop to its primary brand."@en .

:isManufacturedBy rdf:type owl:ObjectProperty ;
  rdfs:domain :Component ;
  rdfs:range :Brand ;
  rdfs:comment "Specifies the manufacturer of a component."@en .

:isSuitableFor rdf:type owl:ObjectProperty ;
  rdfs:domain :Laptop ;
  rdfs:range :UseCase ;
  rdfs:comment "Links a laptop to a recommended use case. This can be inferred."@en .

# #################################################################
#    Data Properties (Attributes)
# #################################################################

### Laptop Properties ###
:hasTitle rdf:type owl:DatatypeProperty ; rdfs:domain :Laptop ; rdfs:range xsd:string .
:hasPrice rdf:type owl:DatatypeProperty ; rdfs:domain :Laptop ; rdfs:range xsd:float .
:hasWeightKg rdf:type owl:DatatypeProperty ; rdfs:domain :Laptop ; rdfs:range xsd:float .
:hasUrl rdf:type owl:DatatypeProperty ; rdfs:domain :Laptop ; rdfs:range xsd:anyURI .

### CPU Properties ###
:hasCpuModel rdf:type owl:DatatypeProperty ; rdfs:domain :CPU ; rdfs:range xsd:string .
:hasCoreCount rdf:type owl:DatatypeProperty ; rdfs:domain :CPU ; rdfs:range xsd:integer .
:hasClockSpeedGHz rdf:type owl:DatatypeProperty ; rdfs:domain :CPU ; rdfs:range xsd:float .

### GPU Properties ###
:hasGpuModel rdf:type owl:DatatypeProperty ; rdfs:domain :GPU ; rdfs:range xsd:string .
:isDedicatedGpu rdf:type owl:DatatypeProperty ; rdfs:domain :GPU ; rdfs:range xsd:boolean .

### RAM Properties ###
:hasRamSizeGB rdf:type owl:DatatypeProperty ; rdfs:domain :RAM ; rdfs:range xsd:integer .
:hasRamType rdf:type owl:DatatypeProperty ; rdfs:domain :RAM ; rdfs:range xsd:string .

### Storage Properties ###
:hasStorageSizeGB rdf:type owl:DatatypeProperty ; rdfs:domain :Storage ; rdfs:range xsd:integer .
:hasStorageType rdf:type owl:DatatypeProperty ; rdfs:domain :Storage ; rdfs:range xsd:string .

### Screen Properties ###
:hasScreenSizeInches rdf:type owl:DatatypeProperty ; rdfs:domain :Screen ; rdfs:range xsd:float .
:hasRefreshRateHz rdf:type owl:DatatypeProperty ; rdfs:domain :Screen ; rdfs:range xsd:integer .

# #################################################################
#    Class Axioms and Inference Rules
# #################################################################

### Definition of a Gaming Laptop ###

:GamingLaptop rdf:type owl:Class ;
  rdfs:comment "A laptop that is suitable for gaming, defined by its components."@en ;
  rdfs:subClassOf :Laptop ;
  owl:equivalentClass [
    rdf:type owl:Class ;
    owl:intersectionOf (
      :Laptop
      [ rdf:type owl:Restriction ;
        owl:onProperty :hasComponent ;
        owl:someValuesFrom [
          rdf:type owl:Class ;
          owl:intersectionOf (
            :GPU
            [ rdf:type owl:Restriction ;
              owl:onProperty :isDedicatedGpu ;
              owl:hasValue true
            ]
          )
        ]
      ]
      [ rdf:type owl:Restriction ;
        owl:onProperty :hasComponent ;
        owl:someValuesFrom [
          rdf:type owl:Class ;
          owl:intersectionOf (
            :RAM
            [ rdf:type owl:Restriction ;
              owl:onProperty :hasRamSizeGB ;
              owl:someValuesFrom [
                rdf:type rdfs:Datatype ;
                owl:onDatatype xsd:integer ;
                owl:withRestrictions ( [ xsd:minInclusive 16 ] )
              ]
            ]
          )
        ]
      ]
      [ rdf:type owl:Restriction ;
        owl:onProperty :hasComponent ;
        owl:someValuesFrom [
          rdf:type owl:Class ;
          owl:intersectionOf (
            :Screen
            [ rdf:type owl:Restriction ;
              owl:onProperty :hasRefreshRateHz ;
              owl:someValuesFrom [
                rdf:type rdfs:Datatype ;
                owl:onDatatype xsd:integer ;
                owl:withRestrictions ( [ xsd:minInclusive 120 ] )
              ]
            ]
          )
        ]
      ]
    )
  ] .

### Definition of an Office Laptop ###

:OfficeLaptop rdf:type owl:Class ;
  rdfs:comment "A laptop suitable for general office or productivity tasks, typically without a dedicated GPU."@en ;
  rdfs:subClassOf :Laptop ;
  owl:equivalentClass [
    rdf:type owl:Class ;
    owl:intersectionOf (
      :Laptop
      [ rdf:type owl:Restriction ;
        owl:onProperty :hasComponent ;
        owl:someValuesFrom [
          rdf:type owl:Class ;
          owl:intersectionOf (
            :GPU
            [ rdf:type owl:Restriction ;
              owl:onProperty :isDedicatedGpu ;
              owl:hasValue false
            ]
          )
        ]
      ]
    )
  ] .